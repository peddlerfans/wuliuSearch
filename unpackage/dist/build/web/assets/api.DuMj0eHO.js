import{C as a,D as t,E as e,f as o,A as d}from"./index-Btepo-jy.js";function n({method:d,url:n,data:r,options:i={}}){return new Promise(((u,c)=>{a({url:"https://djtestweb.youyong.org.cn"+n,method:d,data:r,header:Object.assign({"Content-Type":"application/json",Authorization:s()},i.header||{}),success:a=>200==a.statusCode?0==a.data.code||200==a.data.code?u(a.data):999994==a.data.code||999997==a.data.code?(t(),setTimeout((()=>{e({url:"/pages/loginPage/index?out=true"})}),100),c(a.data)):(o({title:a.data.msg,icon:"none",duration:2e3}),c(a.data)):401==a.statusCode?(t(),e({url:"/pages/loginPage/index"}),c(a.data)):c(a.data),fail:c})}))}function s(){const a=d("token");return a?`Bearer ${a}`:""}export{n as r};

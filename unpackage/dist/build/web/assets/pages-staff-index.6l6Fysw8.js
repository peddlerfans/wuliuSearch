import{_ as a,r as e,m as s,c as l,a as t,w as c,i as u,o as n,b as i,p as r,q as o,F as d,d as f,t as _,n as m,u as p,e as v,k as b}from"./index-Btepo-jy.js";import{s as k}from"./staff.-6U8UApu.js";import"./api.DuMj0eHO.js";const y=a({__name:"index",setup(a){const y=[{label:"全部",value:"all"},{label:"待签收",value:1},{label:"有异议",value:3},{label:"已签收",value:2},{label:"已作废",value:0}],x=e("all"),g=e([]);s((()=>{k({page:1,size:50}).then((a=>{a&&a.data&&(g.value=a.data.map((a=>({id:a.id,trade_no:a.trade_no,companyName:a.company_name,packerName:a.packer_name,inspectorName:a.inspector_name,createTime:a.create_time,status:a.status,remark:a.remark}))))})).catch((a=>{console.error("获取运单列表失败",a)}))}));const w={0:{text:"已作废",class:"abandoned"},1:{text:"待签收",class:"pending"},2:{text:"已签收",class:"signed"},3:{text:"有异议",class:"questioned"}},C=l((()=>"all"===x.value?g.value.map(N):g.value.filter((a=>String(a.status)===String(x.value))).map(N)));function N(a){const e=w[a.status]||{};return{...a,statusText:e.text||"",statusClass:e.class||""}}return(a,e)=>{const s=u,l=b;return n(),t(s,{class:"staff-page"},{default:c((()=>[i(s,{class:"tabs"},{default:c((()=>[(n(),r(d,null,o(y,((a,e)=>i(s,{key:a.value,class:m(["tab",{active:x.value===a.value}]),onClick:e=>x.value=a.value},{default:c((()=>[f(p(a.label),1)])),_:2},1032,["class","onClick"]))),64))])),_:1}),i(s,{class:"waybill-list"},{default:c((()=>[(n(!0),r(d,null,o(C.value,(a=>(n(),t(s,{key:a.id,class:"waybill-item"},{default:c((()=>[i(s,{class:"waybill-header"},{default:c((()=>[i(l,{class:"waybill-no"},{default:c((()=>[f(p(a.trade_no),1)])),_:2},1024),i(l,{class:"company-name"},{default:c((()=>[f(p(a.companyName),1)])),_:2},1024)])),_:2},1024),i(s,{class:"waybill-info"},{default:c((()=>[i(s,{class:"info-left"},{default:c((()=>[i(l,{class:"packer"},{default:c((()=>[f("打包: "+p(a.packerName),1)])),_:2},1024),i(l,{class:"inspector"},{default:c((()=>[f("验货: "+p(a.inspectorName),1)])),_:2},1024)])),_:2},1024),i(s,{class:"info-left"},{default:c((()=>[i(l,{class:"create-time"},{default:c((()=>[f(p(a.createTime),1)])),_:2},1024),i(l,{class:m(["status",a.statusClass])},{default:c((()=>[f(p(a.statusText),1)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1024),i(s,{class:"info-right",onClick:e=>function(a){v({url:`/pages/staff/detail?trade_no=${a.trade_no}`})}(a)},{default:c((()=>[i(l,null,{default:c((()=>[f("详情")])),_:1}),i(l,{class:"arrow"},{default:c((()=>[f("➔")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1}),0===C.value.length?(n(),t(s,{key:0,class:"empty"},{default:c((()=>[f("暂无数据")])),_:1})):_("",!0)])),_:1})}}},[["__scopeId","data-v-772a4ff2"]]);export{y as default};

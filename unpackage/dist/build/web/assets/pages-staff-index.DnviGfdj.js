import{_ as a,r as e,m as s,c as t,a as l,w as u,i as c,o as n,b as r,p as i,q as o,F as d,d as f,t as m,n as p,u as _,e as v,k as b}from"./index-l3yfvvcJ.js";import{s as g}from"./staff.BAYZVc4t.js";import{C as k}from"./CustomTabbar.DN48_poM.js";import"./api.C0Evyluq.js";const x=a({__name:"index",setup(a){const x=[{label:"全部",value:"all"},{label:"待签收",value:1},{label:"有异议",value:3},{label:"已签收",value:2},{label:"已作废",value:0}],y=[{pagePath:"pages/staff/index",text:"装箱单"},{pagePath:"pages/staff/uploadImg",text:"上传"}],C=e("all"),h=e([]);s((()=>{g({page:1,size:50}).then((a=>{a&&a.data&&(h.value=a.data.map((a=>({id:a.id,trade_no:a.trade_no,companyName:a.company_name,packerName:a.packer_name,inspectorName:a.inspector_name,createTime:a.create_time,status:a.status,remark:a.remark}))))})).catch((a=>{console.error("获取运单列表失败",a)}))}));const w={0:{text:"已作废",class:"abandoned"},1:{text:"待签收",class:"pending"},2:{text:"已签收",class:"signed"},3:{text:"有异议",class:"questioned"}},N=t((()=>"all"===C.value?h.value.map(T):h.value.filter((a=>String(a.status)===String(C.value))).map(T)));function T(a){const e=w[a.status]||{};return{...a,statusText:e.text||"",statusClass:e.class||""}}return(a,e)=>{const s=c,t=b;return n(),l(s,{class:"staff-page"},{default:u((()=>[r(s,{class:"tabs"},{default:u((()=>[(n(),i(d,null,o(x,((a,e)=>r(s,{key:a.value,class:p(["tab",{active:C.value===a.value}]),onClick:e=>C.value=a.value},{default:u((()=>[f(_(a.label),1)])),_:2},1032,["class","onClick"]))),64))])),_:1}),r(s,{class:"waybill-list"},{default:u((()=>[(n(!0),i(d,null,o(N.value,(a=>(n(),l(s,{key:a.id,class:"waybill-item"},{default:u((()=>[r(s,{class:"waybill-header"},{default:u((()=>[r(t,{class:"waybill-no"},{default:u((()=>[f(_(a.trade_no),1)])),_:2},1024),r(t,{class:"company-name"},{default:u((()=>[f(_(a.companyName),1)])),_:2},1024)])),_:2},1024),r(s,{class:"waybill-info"},{default:u((()=>[r(s,{class:"info-left"},{default:u((()=>[r(t,{class:"packer"},{default:u((()=>[f("打包: "+_(a.packerName),1)])),_:2},1024),r(t,{class:"inspector"},{default:u((()=>[f("验货: "+_(a.inspectorName),1)])),_:2},1024)])),_:2},1024),r(s,{class:"info-left"},{default:u((()=>[r(t,{class:"create-time"},{default:u((()=>[f(_(a.createTime),1)])),_:2},1024),r(t,{class:p(["status",a.statusClass])},{default:u((()=>[f(_(a.statusText),1)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1024),r(s,{class:"info-right",onClick:e=>function(a){v({url:`/pages/staff/detail?trade_no=${a.trade_no}`})}(a)},{default:u((()=>[r(t,null,{default:u((()=>[f("详情")])),_:1}),r(t,{class:"arrow"},{default:u((()=>[f("➔")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1}),0===N.value.length?(n(),l(s,{key:0,class:"empty"},{default:u((()=>[f("暂无数据")])),_:1})):m("",!0),r(k,{tabs:y,current:"pages/staff/index"})])),_:1})}}},[["__scopeId","data-v-2ff8ced8"]]);export{x as default};
